---
layout: page
title: í”„ë¦¬ë¯¸ì—„ PDF ì—´ëŒ
permalink: /pdf/
---

<h2>ğŸ“„ ìœ ë£Œ ì „ìš© PDF ì—´ëŒ</h2>

<div id="locked">
  <p>ğŸ”’ ì´ í˜ì´ì§€ëŠ” ìœ ë£Œ ê²°ì œìë§Œ ì—´ëŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
  <a href="/pay/">ğŸ‘‰ ê²°ì œí•˜ëŸ¬ ê°€ê¸°</a>
</div>

<div id="unlocked" style="display:none;">
  <iframe
    id="pdf-frame"
    src="https://mozilla.github.io/pdf.js/web/viewer.html?file=https://your-site.com/assets/premium.pdf"
    width="100%" height="800px" style="border:none;"
  ></iframe>
</div>

<script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDXB4ilHCdpWzc93i_ZuXy28XF0WD5sRmw",
    authDomain: "csi500.firebaseapp.com",
    projectId: "csi500"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  function unlockViewer() {
    document.getElementById("locked").style.display = "none";
    document.getElementById("unlocked").style.display = "block";
  }

  window.addEventListener("DOMContentLoaded", () => {
    const saved = localStorage.getItem("user");
    if (!saved) return;

    const user = JSON.parse(saved);
    const uid = user.uid;

    db.collection("payments").doc(uid).get().then(doc => {
      if (doc.exists && doc.data().paid === true) {
        unlockViewer();
      }
    });
  });
</script>
